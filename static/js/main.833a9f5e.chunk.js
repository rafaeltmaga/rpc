(this["webpackJsonpapp-rpc"]=this["webpackJsonpapp-rpc"]||[]).push([[0],{27:function(t,n,e){t.exports=e(52)},52:function(t,n,e){"use strict";e.r(n);var a=e(0),r=e.n(a),o=e(3),c=e.n(o),l=e(5),s=e.n(l),i=e(18),m=e(7),d=e(2),u=e.n(d),p=e(19),g=e.n(p),f=e(20),h=e.n(f),b=e(21);function _(){var t=Object(b.a)(["\n\tbox-sizing: border-box;\n\twidth: 100%;\n\tfont-family: 'Montserrat', sans-serif;\n\tpadding: 40px;\n\ttext-align: center;\n\tbackground-color: #fff;\n\n\th1 {\n\t\tfont-size: 3em;\n\t\tcolor: #fff;\n\t}\n\n\t.logo-rpc {\n\t\tfloat: left;\n\t\tpadding: 3px;\n\t}\n\n\t.logo-da-globo {\n\t\tfloat: right;\n\t\tpadding: 3px;\n\t}\n\n\t.date {\n\t\tbackground-color: #393939;\n\t\tpadding: 15px;\n\t\tborder-radius: 8px;\n\t\ttext-align: left;\n\t\tcolor: #ffffff;\n\n\t\t.date__input {\n\t\t\tborder: 0;\n\t\t\toutline: none;\n\t\t\tpadding: 15px;\n\t\t\tfont-size: 16px;\n\t\t\tfont-weight: 700;\n\t\t\tborder-radius: 8px;\n\t\t\tcolor: #000000;\n\t\t}\n\t}\n\n\t.schedule {\n\t\tlist-style: none;\n\t\tmargin: 0;\n\t\tpadding: 0;\n\t\tcolor: white;\n\t\ttext-align: left;\n\n\t\t&__network {\n\t\t\t&:nth-child(even) {\n\t\t\t\tbackground: #006497;\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground: #c9c9c9;\n\t\t\t\t\tcolor: red;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&:nth-child(odd) {\n\t\t\t\tbackground: #ec7d00;\n\t\t\t\t&:hover {\n\t\t\t\t\tbackground: #c9c9c9;\n\t\t\t\t\tcolor: red;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&__shows {\n\t\t\tlist-style: none;\n\t\t\tmargin: 0;\n\t\t\tpadding: 0;\n\t\t}\n\t}\n\n\theader {\n\t\tbackground-color: #006497;\n\t}\n\n\tbody {\n\t\tbackground-color: #fff;\n\t}\n"]);return _=function(){return t},t}var k=e(22).a.div(_()),w=function(t){return t.sort(v).reduce((function(t,n){var e=t.find((function(t){return t.id===n.programa.id}));return e?e.shows.push(n.show):t.push({id:n.programa.id,name:n.programa.name,time_start:n.programa.time_start,time_end:n.programa.time_end,shows:[n.custom_info]}),t}),[]).map((function(t){return t.shows=t.shows.sort(x),t}))};function v(t,n){if(t.network&&n.network){var e=t.network.name.charAt(0),a=n.network.name.charAt(0),r=0;return e>a?r=1:e<a&&(r=-1),r}return null}function x(t,n){var e=u()(t.time,"HH:mm"),a=u()(n.time,"HH:mm"),r=0;return e>a?r=1:e<a&&(r=-1),r}c.a.render(r.a.createElement((function(){var t=Object(a.useState)(u()().format("DD/MM/YYYY")),n=Object(m.a)(t,2),e=n[0],o=n[1],c=Object(a.useState)([]),l=Object(m.a)(c,2),d=l[0],p=l[1],f=function(t){var n=t.split("/");return"".concat(n[2],"-").concat(n[1],"-").concat(n[0])},b=Object(a.useCallback)(function(){var t=Object(i.a)(s.a.mark((function t(n){var e,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g()({url:"https://cors-anywhere.herokuapp.com/https://epg-api.video.globo.com/programmes/1337?date=".concat(f(n)),method:"GET"});case 3:if(e=t.sent,console.log(e.data.programme.entries[0]),console.log(e.data.programme.entries[0].title),200!==e.status){t.next=10;break}return a=e.data.programme.entries.map((function(t){return{programa:{id:t.media_id,name:t.title,time_start:u()(t.human_start_time,"HH:mm:ss Z").format("HH:mm"),time_end:u()(t.human_end_time,"HH:mm:ss Z").format("HH:mm")}}})),console.log(a),t.abrupt("return",p(w(a)));case 10:p([]),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),alert("Data inv\xe1lida");case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(n){return t.apply(this,arguments)}}(),[]);return Object(a.useEffect)((function(){10===e.length&&b(e)}),[b,e]),r.a.createElement(k,null,r.a.createElement("header",null,r.a.createElement("img",{src:"/logo-rpc.png",alt:"Logo RPC ",className:"logo-rpc"}),r.a.createElement("img",{src:"/logo-da-globo.png",alt:"Logo GLobo ",className:"logo-da-globo"}),r.a.createElement("h1",null,"Programa\xe7\xe3o di\xe1ria RPC")),r.a.createElement("body",null,r.a.createElement("div",{className:"date"},r.a.createElement("p",null,"Digite a data a ser pesquisada:"),r.a.createElement(h.a,{mask:"99/99/9999",alwaysShowMask:!0,maskChar:"",className:"date__input",type:"text",id:"date",name:"date",value:e,onChange:function(t){return o(t.target.value)}})),d.length>0?r.a.createElement("ul",{className:"schedule"},d.map((function(t){return r.a.createElement("li",{className:"schedule__network",key:t.id},r.a.createElement("ul",{className:"schedule__shows"},r.a.createElement("h3",null,t.name),r.a.createElement("li",{className:"schedule__show",key:t.media_id},t.time_start," - ",t.time_end)))}))):r.a.createElement("div",{className:"empty_schedule"},"Nenhuma programa\xe7\xe3o encontrada para este dia")))}),null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.833a9f5e.chunk.js.map